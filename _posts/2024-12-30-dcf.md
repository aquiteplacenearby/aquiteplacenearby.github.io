---
title: 自由现金流折现模型
date: 2024-12-30 15:50:00 +0800
categories: [投资]
tags: [投资, 估值, dcf, 自由现金流折现模型]     # TAG names should always be lowercase
comments: true
---

<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

# 基本概念

对于一个已经开始稳定产生正向现金流的企业，我们可以使用自由现金流折现模型对其进行估值。

自由现金流折现模型的核心思想是企业的价值等于其未来所有现金流之和折现后的值。之所以需要折现，是因为钱具有时间价值，未来的一块钱比现在的一块钱价值要低。我们也可以想象钱一般随着时间会贬值，但在通缩的情况下结果相反。为了表达低的幅度，我们引入折现率r。现值(Present Value，简称PV)的计算公式如下，其中V是未来价值，n代表多远的未来，常用单位是年：

$$
\begin{align}
PV=\frac{V}{(1+r)^n} \tag{1}
\end{align}
$$


现在我们知道了如何将未来价值换算成当前价值，那么如何计算未来价值即企业未来产生的现金流呢？假设企业今年的自由现金流是V0，预计年增长率是g，那么未来第n年的自由现金流可以表示为：

$$
V_n={V_0}(1+g)^n \tag{2}
$$

将（1）和（2）合并，我们可以得到企业未来第n年自由现金流的折现值：

$$
PV_n=\frac{V_0(1+g)^n}{(1+r)^n} \tag{3}
$$

把从第1年到第n年的自由现金流折现值相加，就可以得到企业未来所有自由现金流的折现值：

$$
PV=\sum_{1 \le i \le n} \frac{V_0(1+g)^i}{(1+r)^i} \tag{4}
$$

这就是自由现金流折现模型的基本公式。因为这是一个无限等比数列求和的问题，所以我们可以使用等比数列求和公式来简化计算(Gordon Growth Model)：

$$
PV=\frac{V_0(1+g)}{(r-g)} \tag{5}
$$

当前建模的假设是企业未来会以一个恒定增长率g永远增长下去，这当然是可能的，但实际情况更有可能是企业先高速增长，然后逐渐稳定下来。因此，我们需要对模型进行修正。简单的方法是对高增长和低增长两个阶段分开建模。

在高增长阶段，给定t0时候的自由现金流V0，持续时间n(年)，增长率g1，折现率r，这个阶段的现金流之和折现为

$$
PV_1=\sum_{1 \le i \le n} \frac{V_0(1+g_1)^i}{(1+r)^i} \tag{5}
$$

在低增长阶段，给定tn时候的自由现金流VN，增长率g2，折现率r，这里没有一个具体的持续时间，因为我们认为这会一直持续下去，即n->oo，这可以使用我们最开始对于永远持续恒定g增长的企业的计算公式。$$V=\frac{V_{n+1}}{r-g}$$。需要注意的是，因为我们是从n+1年开始低增长阶段，V代表的是从n+1年开始往后所有的现金流折现，因此扔需要把前n年给折进去，得到$$PV_2=\frac{V_{n+1}}{(r-g_2)(1+r)^n}$$

将两个阶段结果相加，就是自由现金流折现模型的最终结果：

$$
PV=PV_1+PV_2=\sum_{1 \le i \le n} \frac{V_0(1+g_1)^i}{(1+r)^i}+\frac{V_{n+1}}{(r-g_2)(1+r)^n} \tag{6}
$$

# r的估计——CAPM(Capital Asset Pricing Model)

让我们来首先思考这样一个问题，假如给定一只股票，我们只知道
- 其波动性$$beta$$
- 任意一只股票得到的预期收益率是$$r_m$$
- 无风险利率是$$r_f$$。

我们应该如何得到这只股票的预期收益率？我们可以有一些简单的思考：
- 这只股票的预期收益率应该和我们可以从股票市场获得的预期收率$$r_m$$有关
- 这只股票的预期收益率应该和其波动性$$beta$$有关，而且假设我们厌恶波动性，越高的波动性需要用越高的预期收益率补偿
- 这只股票的预期收益率应该和其无风险利率$$r_f$$有关，而且应该至少大于它

基于以上考虑，我们可以得到一个简单的公式 

$$
r=r_f + \beta \times (r_m - r_f) \tag{7}
$$

其中$$r_m - r_f$$刻画了我们希望从股票市场获得的超过无风险利率的收益率，这部分乘上$$beta$$相当于把股票市场的波动性转换成了我们希望得到的额外收益率，最后再加上无风险利率$$r_f$$，就得到了我们希望得到的预期收益率$$r$$。

假如人们有一个general的股票市场预期收益率r，那么在做一项具体的投资时，理性情况下，人们会把这项具体投资的收益率和r进行比较，如果具体投资收益率低于r，那么人们就会认为这个投资不值得做，反之则值得做。正因为如此，我们在自由现金流模型中的折现率可以使用r，它反映了人们心中对股票投资预期回报的基准。